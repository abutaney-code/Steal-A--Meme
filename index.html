<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Steal the Memes: Tycoon</title>
    <style>
      :root {
        --bg-color: #1a1a1a;
        --text-color: #ffffff;
        --accent-color: #ff0055;
        --money-color: #00ff88;
        --upgrade-color: #ffcc00; 
        --pet-color: #ff88ff;
        --lava-color: #ff4500;
        --ice-color: #00f2ff;
        --earth-color: #8bff5e;
        --ufo-color: #cc00ff;
        --taco-color: #ffcc33;
      }

      body {
        font-family: "Courier New", Courier, monospace;
        background-color: var(--bg-color);
        color: var(--text-color);
        margin: 0; padding: 20px;
        display: flex; flex-direction: column; align-items: center;
      }

      #event-banner {
        width: 100%; max-width: 600px; background: #333; color: white;
        text-align: center; padding: 15px; border-radius: 10px;
        margin-bottom: 15px; font-weight: bold; display: none;
        border: 3px solid white; font-size: 1.1rem;
      }

      #hud {
        display: flex; justify-content: space-between;
        width: 100%; max-width: 600px;
        background: #333; padding: 15px; border-radius: 10px;
        border: 2px solid var(--text-color); margin-bottom: 20px;
        font-size: 1.2rem; font-weight: bold;
      }

      .money-text { color: var(--money-color); }
      .lava-btn { background-color: var(--lava-color) !important; color: white !important; }
      
      #game-board {
        display: grid; grid-template-columns: 1fr 1fr; gap: 20px;
        width: 100%; max-width: 950px;
      }

      .zone { background: #2a2a2a; border: 2px solid #555; border-radius: 10px; padding: 15px; min-height: 450px; }
      .unit-list { display: flex; flex-wrap: wrap; gap: 5px; max-height: 250px; overflow-y: auto; padding: 5px; }

      .unit { background: #444; padding: 5px 10px; border-radius: 5px; font-size: 0.8rem; border: 1px solid transparent; }
      .unit-pet { border-color: var(--pet-color); color: var(--pet-color); font-weight: bold; }
      .unit-boosted { border-color: var(--lava-color); box-shadow: 0 0 8px var(--lava-color); }
      .unit-upgrade { border-color: var(--upgrade-color); background: #3d3411; }

      .actions { margin-top: 15px; display: flex; flex-direction: column; gap: 8px; }
      button { padding: 8px; cursor: pointer; font-weight: bold; border: none; border-radius: 5px; }
      .btn-buy { background-color: var(--money-color); color: #000; }
      .btn-pet { background-color: var(--pet-color); color: #000; font-size: 0.75rem; }
      .btn-up { background-color: var(--upgrade-color); color: #000; }

      #log { width: 100%; max-width: 950px; height: 100px; background: #000; border: 1px solid #555; margin-top: 20px; padding: 10px; overflow-y: scroll; font-size: 0.85rem; color: #ccc; }
    </style>
  </head>
  <body>

    <h1>STEAL A MEME: TYCOON</h1>

    <div id="event-banner">EVENT ACTIVE</div>

    <div id="hud">
      <div>Cash: <span id="money" class="money-text">$0</span></div>
      <div>Income: <span id="income" class="money-text">$0</span>/sec</div>
    </div>

    <div id="game-board">
      <div class="zone">
        <h2>YOUR BASE</h2>
        <div id="my-units" class="unit-list"></div>
        <div class="actions">
          <button id="sellModeBtn" class="btn-buy" style="background:#444;color:white" onclick="toggleSellMode()">SELL MODE: OFF</button>
          
          <h3>PETS ($30,000 | +5%)</h3>
          <div style="display:grid; grid-template-columns: 1fr 1fr; gap:5px;">
            <button class="btn-pet" onclick="buyUnit('Tralalao tralala')">Tralalao</button>
            <button class="btn-pet" onclick="buyUnit('Tung tung tung sahur')">Tung</button>
            <button class="btn-pet" onclick="buyUnit('Tata ta sahur')">Tata</button>
            <button class="btn-pet" onclick="buyUnit('Br br patpin')">Br br</button>
            <button class="btn-pet" onclick="buyUnit('Mateo')">Mateo</button>
          </div>

          <h3>MARKET & UPGRADES</h3>
          <button id="btn-NoobCube" class="btn-buy" onclick="buyUnit('Noob Cube')">Noob Cube ($50)</button>
          <button id="btn-VibeCat" class="btn-buy" onclick="buyUnit('Vibe Cat')">Vibe Cat ($200)</button>
          <button id="btn-GoldenDoge" class="btn-buy" onclick="buyUnit('Golden Doge')">Golden Doge ($1k)</button>
          <button id="btn-Gigachad" class="btn-buy" style="border: 2px solid white" onclick="buyUnit('Gigachad')">Gigachad ($10k)</button>
          <button id="btn-DiamondStatue" class="btn-up" onclick="buyUnit('Diamond Statue')">Diamond Statue ($5k)</button>
          <button id="btn-ServerRoom" class="btn-up" onclick="buyUnit('Server Room')">Server Room ($100k)</button>
        </div>
      </div>

      <div class="zone">
        <h2>NEIGHBOR</h2>
        <div id="enemy-units" class="unit-list"></div>
        <button class="btn-buy" style="background:var(--accent-color);color:white;width:100%;margin-top:10px" onclick="attemptSteal()">üèÉ RAID NEIGHBOR</button>
      </div>
    </div>

    <div id="log">All pets now cost $30k and give a 5% boost!</div>

    <script>
      let money = 100;
      let myUnits = [];
      let enemyUnits = [];
      let sellMode = false;
      let currentEvent = null;
      let lavaItems = [];

      const unitTypes = {
        "Noob Cube": { id: "NoobCube", cost: 50, mps: 2, icon: "üßä", canNeighborHave: true },
        "Vibe Cat": { id: "VibeCat", cost: 200, mps: 10, icon: "üê±", canNeighborHave: true },
        "Golden Doge": { id: "GoldenDoge", cost: 1000, mps: 60, icon: "üêï", canNeighborHave: true },
        "Gigachad": { id: "Gigachad", cost: 10000, mps: 1000, icon: "üóø", canNeighborHave: false },
        "Diamond Statue": { id: "DiamondStatue", cost: 5000, mps: 300, icon: "üíé", permanent: true },
        "Server Room": { id: "ServerRoom", cost: 100000, mps: 5000, icon: "üñ•Ô∏è", permanent: true },
        // Updated Pets: All 30k and 5% boost
        "Tralalao tralala": { cost: 30000, mps: 0, multiplier: 0.05, icon: "üêæ", isPet: true },
        "Tung tung tung sahur": { cost: 30000, mps: 0, multiplier: 0.05, icon: "üêæ", isPet: true },
        "Tata ta sahur": { cost: 30000, mps: 0, multiplier: 0.05, icon: "üêæ", isPet: true },
        "Br br patpin": { cost: 30000, mps: 0, multiplier: 0.05, icon: "üêæ", isPet: true },
        "Mateo": { cost: 30000, mps: 0, multiplier: 0.05, icon: "üêæ", isPet: true }
      };

      setInterval(startRandomEvent, 600000);

      function startRandomEvent() {
        const events = ['LAVA', 'ICE', 'EARTH', 'UFO', 'TACO'];
        const choice = events[Math.floor(Math.random() * events.length)];
        const banner = document.getElementById('event-banner');
        banner.style.display = "block";
        currentEvent = choice;

        if (choice === 'LAVA') {
          banner.innerText = "üåã FIRE SALE: +10% BOOST ON LAVA ITEMS!";
          banner.style.borderColor = "var(--lava-color)";
          const ids = ["NoobCube", "VibeCat", "GoldenDoge", "Gigachad", "DiamondStatue"];
          lavaItems = ids.sort(() => 0.5 - Math.random()).slice(0, 2);
          lavaItems.forEach(id => {
              const el = document.getElementById(`btn-${id}`);
              if(el) el.classList.add('lava-btn');
          });
        } else {
          banner.innerText = choice + " EVENT ACTIVE!";
          banner.style.borderColor = "white";
        }

        setTimeout(() => {
          currentEvent = null;
          banner.style.display = "none";
          lavaItems.forEach(id => {
              const el = document.getElementById(`btn-${id}`);
              if(el) el.classList.remove('lava-btn');
          });
          lavaItems = [];
        }, 45000);
      }

      function buyUnit(name) {
        let u = {...unitTypes[name]};
        // Pets don't get Earth discount as they are in the Sanctuary
        let cost = (currentEvent === 'EARTH' && !u.isPet) ? u.cost * 0.5 : u.cost;
        let boost = (lavaItems.includes(u.id)) ? 0.10 : 0;

        if (money >= cost) {
          money -= cost;
          myUnits.push({ ...u, name, multiplier: (u.multiplier || 0) + boost, isLava: boost > 0 });
          updateUI();
        } else { log("Insufficient funds!", "red"); }
      }

      setInterval(() => {
        let base = myUnits.reduce((acc, u) => acc + u.mps, 0);
        let m = 1 + myUnits.reduce((acc, u) => acc + (u.multiplier || 0), 0);
        if(currentEvent === 'ICE') m *= 0.5;
        if(currentEvent === 'TACO') m *= 1.2;
        money += Math.floor(base * m);
        updateUI();
      }, 1000);

      setInterval(() => {
        const possible = Object.keys(unitTypes).filter(k => unitTypes[k].canNeighborHave);
        const name = possible[Math.floor(Math.random() * possible.length)];
        enemyUnits.push({ ...unitTypes[name], name });

        const stealable = myUnits.filter(u => !u.permanent && !u.isPet && u.name !== "Gigachad");
        if (stealable.length > 0 && Math.random() < 0.2 && currentEvent !== 'ICE') {
          const victim = stealable[Math.floor(Math.random() * stealable.length)];
          myUnits.splice(myUnits.indexOf(victim), 1);
          enemyUnits.push(victim);
          log(`The neighbor stole your ${victim.name}!`, "red");
        }
        updateUI();
      }, 10000);

      function attemptSteal() {
        if (enemyUnits.length > 0) {
          if (Math.random() > 0.5) {
            myUnits.push(enemyUnits.pop());
            log("Steal successful!", "green");
          } else {
            money = Math.max(0, money - 50);
            log("Caught! Paid $50 fine.", "red");
          }
          updateUI();
        }
      }

      function toggleSellMode() {
        sellMode = !sellMode;
        document.getElementById("sellModeBtn").innerText = sellMode ? "SELL MODE: ON" : "SELL MODE: OFF";
      }

      function sellItem(i) {
        if (!sellMode || myUnits[i].permanent) return;
        money += Math.floor(unitTypes[myUnits[i].name].cost * 0.5);
        myUnits.splice(i, 1);
        updateUI();
      }

      function updateUI() {
        document.getElementById("money").innerText = `$${money.toLocaleString()}`;
        let base = myUnits.reduce((acc, u) => acc + u.mps, 0);
        let m = 1 + myUnits.reduce((acc, u) => acc + (u.multiplier || 0), 0);
        if(currentEvent === 'ICE') m *= 0.5;
        if(currentEvent === 'TACO') m *= 1.2;
        document.getElementById("income").innerText = `$${Math.floor(base * m).toLocaleString()}`;
        
        const container = document.getElementById("my-units");
        container.innerHTML = "";
        myUnits.forEach((u, i) => {
          let d = document.createElement("div");
          d.className = `unit ${u.isPet?'unit-pet':''} ${u.isLava?'unit-boosted':''} ${u.permanent?'unit-upgrade':''}`;
          d.innerText = `${u.icon} ${u.name}`;
          d.onclick = () => sellItem(i);
          container.appendChild(d);
        });

        const eContainer = document.getElementById("enemy-units");
        eContainer.innerHTML = "";
        enemyUnits.forEach(u => {
          let d = document.createElement("div");
          d.className = `unit`;
          d.innerText = `${u.icon} ${u.name}`;
          eContainer.appendChild(d);
        });
      }

      function log(msg, color) {
        const p = document.createElement("div");
        p.innerText = `> ${msg}`; p.style.color = color;
        document.getElementById("log").prepend(p);
      }
      updateUI();
    </script>
  </body>
</html>
